<div class="container">
  <select
    class="form-select form-select-lg mt-5 mb-3"
    aria-label=".form-select-lg example"
  >
    <option selected>類別</option>
    <option value="" disabled>===支出===</option>
    {{#each categories}}
      {{#if this.isExpense}}
        <option value="{{this.name}}">{{this.name}}</option>
      {{/if}}
    {{/each}}
    <option value="" disabled>===收入===</option>
    {{#each categories}}
      {{#if this.isExpense}}{{else}}
        <option value="{{this.name}}">{{this.name}}</option>
      {{/if}}
    {{/each}}
  </select>

  {{!Total amount}}
  <div class="total-amount d-flex justify-content-center">
    <h3>總金額：</h3>
    <div class="amount">
      ${{formatCurrency totalAmount}}
      元
    </div>
  </div>

  {{! AJAX list panel }}
  <div class="list-container">
    <ul class="list-group">
      {{#each records}}
        <li
          class="list-group-item d-flex justify-content-between align-items-center mb-3"
        >

          <div class="d-flex align-items-center list-head">
            <i
              class="{{getIcon ../categories this}} icon"
              style="user-select: auto;"
            ></i>
            <div class="ms-2 me-auto">
              <div class="fw-bold">{{this.name}}</div>
              {{formatDate this.date}}
            </div>
          </div>
          <div class="balance">
            ${{formatCurrency this.amount}}
            元
          </div>
          <div class="icon d-flex">
            <a href="/record/{{this._id}}/edit" class="me-3"><i
                class="fas fa-edit"
              ></i></a>
            <form action="/record/{{this._id}}?_method=DELETE" method="POST">
              <button type="submit" class="btn align-self-center"><i
                  class="fas fa-trash-alt"
                ></i></button>
            </form>
          </div>
        </li>
      {{/each}}
    </ul>
  </div>

  <div class="d-grid gap-2 col-6 mx-auto mt-3">
    <a href="/record/new" class="btn">新增記帳</a>
  </div>
</div>